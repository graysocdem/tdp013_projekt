function cov_273s5ps7ij(){var path="/home/oskarandersson/Kurser/tdp013/Projekt/server/server.js";var hash="f044c9cd4d302d4a3ed24b34541b0dd668d900f7";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/oskarandersson/Kurser/tdp013/Projekt/server/server.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:34}},"1":{start:{line:2,column:16},end:{line:2,column:34}},"2":{start:{line:3,column:17},end:{line:3,column:36}},"3":{start:{line:4,column:13},end:{line:4,column:28}},"4":{start:{line:5,column:13},end:{line:5,column:37}},"5":{start:{line:6,column:13},end:{line:6,column:37}},"6":{start:{line:7,column:13},end:{line:7,column:37}},"7":{start:{line:9,column:12},end:{line:9,column:21}},"8":{start:{line:10,column:13},end:{line:10,column:17}},"9":{start:{line:12,column:0},end:{line:12,column:15}},"10":{start:{line:13,column:0},end:{line:13,column:23}},"11":{start:{line:15,column:0},end:{line:15,column:51}},"12":{start:{line:18,column:0},end:{line:27,column:2}},"13":{start:{line:19,column:23},end:{line:19,column:33}},"14":{start:{line:20,column:16},end:{line:20,column:48}},"15":{start:{line:21,column:18},end:{line:21,column:29}},"16":{start:{line:22,column:15},end:{line:22,column:17}},"17":{start:{line:23,column:2},end:{line:23,column:51}},"18":{start:{line:23,column:30},end:{line:23,column:49}},"19":{start:{line:26,column:2},end:{line:26,column:46}},"20":{start:{line:30,column:0},end:{line:35,column:2}},"21":{start:{line:31,column:20},end:{line:31,column:30}},"22":{start:{line:32,column:16},end:{line:32,column:42}},"23":{start:{line:33,column:18},end:{line:33,column:29}},"24":{start:{line:34,column:2},end:{line:34,column:104}},"25":{start:{line:37,column:0},end:{line:42,column:2}},"26":{start:{line:38,column:16},end:{line:38,column:27}},"27":{start:{line:39,column:17},end:{line:39,column:28}},"28":{start:{line:41,column:2},end:{line:41,column:30}},"29":{start:{line:45,column:0},end:{line:80,column:2}},"30":{start:{line:46,column:33},end:{line:46,column:41}},"31":{start:{line:48,column:23},end:{line:53,column:2}},"32":{start:{line:54,column:2},end:{line:54,column:46}},"33":{start:{line:55,column:2},end:{line:58,column:3}},"34":{start:{line:56,column:4},end:{line:56,column:62}},"35":{start:{line:57,column:4},end:{line:57,column:10}},"36":{start:{line:60,column:15},end:{line:65,column:4}},"37":{start:{line:67,column:15},end:{line:70,column:4}},"38":{start:{line:72,column:2},end:{line:79,column:3}},"39":{start:{line:73,column:6},end:{line:73,column:23}},"40":{start:{line:74,column:6},end:{line:74,column:23}},"41":{start:{line:75,column:6},end:{line:75,column:33}},"42":{start:{line:76,column:6},end:{line:76,column:57}},"43":{start:{line:78,column:6},end:{line:78,column:45}},"44":{start:{line:83,column:0},end:{line:102,column:2}},"45":{start:{line:85,column:46},end:{line:85,column:54}},"46":{start:{line:87,column:15},end:{line:91,column:4}},"47":{start:{line:93,column:2},end:{line:96,column:3}},"48":{start:{line:98,column:2},end:{line:98,column:13}},"49":{start:{line:100,column:2},end:{line:100,column:27}},"50":{start:{line:101,column:2},end:{line:101,column:24}},"51":{start:{line:105,column:0},end:{line:116,column:2}},"52":{start:{line:107,column:29},end:{line:107,column:37}},"53":{start:{line:109,column:2},end:{line:112,column:3}},"54":{start:{line:114,column:2},end:{line:114,column:30}},"55":{start:{line:115,column:2},end:{line:115,column:24}},"56":{start:{line:119,column:0},end:{line:144,column:2}},"57":{start:{line:120,column:28},end:{line:120,column:36}},"58":{start:{line:122,column:2},end:{line:125,column:3}},"59":{start:{line:127,column:2},end:{line:130,column:3}},"60":{start:{line:132,column:2},end:{line:135,column:3}},"61":{start:{line:136,column:2},end:{line:139,column:3}},"62":{start:{line:141,column:2},end:{line:141,column:24}},"63":{start:{line:142,column:2},end:{line:142,column:24}},"64":{start:{line:146,column:0},end:{line:146,column:65}},"65":{start:{line:146,column:23},end:{line:146,column:63}},"66":{start:{line:148,column:0},end:{line:148,column:20}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:18,column:27},end:{line:18,column:28}},loc:{start:{line:18,column:47},end:{line:27,column:1}},line:18},"1":{name:"(anonymous_1)",decl:{start:{line:30,column:24},end:{line:30,column:25}},loc:{start:{line:30,column:44},end:{line:35,column:1}},line:30},"2":{name:"(anonymous_2)",decl:{start:{line:37,column:18},end:{line:37,column:19}},loc:{start:{line:37,column:38},end:{line:42,column:1}},line:37},"3":{name:"(anonymous_3)",decl:{start:{line:45,column:18},end:{line:45,column:19}},loc:{start:{line:45,column:38},end:{line:80,column:1}},line:45},"4":{name:"(anonymous_4)",decl:{start:{line:83,column:18},end:{line:83,column:19}},loc:{start:{line:83,column:38},end:{line:102,column:1}},line:83},"5":{name:"(anonymous_5)",decl:{start:{line:105,column:31},end:{line:105,column:32}},loc:{start:{line:105,column:51},end:{line:116,column:1}},line:105},"6":{name:"(anonymous_6)",decl:{start:{line:119,column:21},end:{line:119,column:22}},loc:{start:{line:119,column:41},end:{line:144,column:1}},line:119},"7":{name:"(anonymous_7)",decl:{start:{line:146,column:17},end:{line:146,column:18}},loc:{start:{line:146,column:23},end:{line:146,column:63}},line:146}},branchMap:{"0":{loc:{start:{line:23,column:2},end:{line:23,column:51}},type:"if",locations:[{start:{line:23,column:2},end:{line:23,column:51}},{start:{line:23,column:2},end:{line:23,column:51}}],line:23},"1":{loc:{start:{line:34,column:2},end:{line:34,column:104}},type:"cond-expr",locations:[{start:{line:34,column:25},end:{line:34,column:79}},{start:{line:34,column:82},end:{line:34,column:104}}],line:34},"2":{loc:{start:{line:55,column:2},end:{line:58,column:3}},type:"if",locations:[{start:{line:55,column:2},end:{line:58,column:3}},{start:{line:55,column:2},end:{line:58,column:3}}],line:55}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f044c9cd4d302d4a3ed24b34541b0dd668d900f7"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_273s5ps7ij=function(){return actualCoverage;};}return actualCoverage;}cov_273s5ps7ij();const bcrypt=(cov_273s5ps7ij().s[0]++,require('bcryptjs'));const express=(cov_273s5ps7ij().s[1]++,require('express'));const mongoose=(cov_273s5ps7ij().s[2]++,require('mongoose'));const cors=(cov_273s5ps7ij().s[3]++,require('cors'));const User=(cov_273s5ps7ij().s[4]++,require('./models/User'));const Page=(cov_273s5ps7ij().s[5]++,require('./models/Page'));const Post=(cov_273s5ps7ij().s[6]++,require('./models/Post'));const app=(cov_273s5ps7ij().s[7]++,express());const port=(cov_273s5ps7ij().s[8]++,3000);cov_273s5ps7ij().s[9]++;app.use(cors());cov_273s5ps7ij().s[10]++;app.use(express.json());cov_273s5ps7ij().s[11]++;mongoose.connect('mongodb://127.0.0.1:27017/facer');//Get user
cov_273s5ps7ij().s[12]++;app.get('/user/:username',async(req,res)=>{cov_273s5ps7ij().f[0]++;const{username}=(cov_273s5ps7ij().s[13]++,req.params);const query=(cov_273s5ps7ij().s[14]++,User.find({username:username}));const results=(cov_273s5ps7ij().s[15]++,await query);let result=(cov_273s5ps7ij().s[16]++,[]);cov_273s5ps7ij().s[17]++;if(results.length!==0){cov_273s5ps7ij().b[0][0]++;cov_273s5ps7ij().s[18]++;result=results[0];}else{cov_273s5ps7ij().b[0][1]++;}//DEBUG
cov_273s5ps7ij().s[19]++;res.status(200).send(JSON.stringify(result));});//Get page
cov_273s5ps7ij().s[20]++;app.get('/page/:owner',async(req,res)=>{cov_273s5ps7ij().f[1]++;const{owner}=(cov_273s5ps7ij().s[21]++,req.params);const query=(cov_273s5ps7ij().s[22]++,Page.find({owner:owner}));const results=(cov_273s5ps7ij().s[23]++,await query);cov_273s5ps7ij().s[24]++;results.length!==0?(cov_273s5ps7ij().b[1][0]++,res.status(200).send(JSON.stringify(results[0].posts))):(cov_273s5ps7ij().b[1][1]++,res.status(204).send());});cov_273s5ps7ij().s[25]++;app.get('/users',async(req,res)=>{cov_273s5ps7ij().f[2]++;const query=(cov_273s5ps7ij().s[26]++,User.find());const result=(cov_273s5ps7ij().s[27]++,await query);cov_273s5ps7ij().s[28]++;res.status(200).send(result);});//Sign up
cov_273s5ps7ij().s[29]++;app.post('/user',async(req,res)=>{cov_273s5ps7ij().f[3]++;const{username,password}=(cov_273s5ps7ij().s[30]++,req.body);let conflictResult=(cov_273s5ps7ij().s[31]++,await fetch(`http://localhost:${port}/user/${username}`,{headers:{'Content-Type':'application/json'},method:"GET"}));cov_273s5ps7ij().s[32]++;conflictResult=await conflictResult.json();cov_273s5ps7ij().s[33]++;if(conflictResult.length!==0){cov_273s5ps7ij().b[2][0]++;cov_273s5ps7ij().s[34]++;res.status(409).send({response:"User already exists"});cov_273s5ps7ij().s[35]++;return;}else{cov_273s5ps7ij().b[2][1]++;}const user=(cov_273s5ps7ij().s[36]++,new User({username:username,password:password,friends:[],requests:[]}));const page=(cov_273s5ps7ij().s[37]++,new Page({owner:username,post:[]}));cov_273s5ps7ij().s[38]++;try{cov_273s5ps7ij().s[39]++;await page.save();cov_273s5ps7ij().s[40]++;await user.save();cov_273s5ps7ij().s[41]++;console.log("Created user");cov_273s5ps7ij().s[42]++;res.status(200).send({response:"User created"});}catch(err){cov_273s5ps7ij().s[43]++;res.status(500).send({response:err});}});//Publish post
cov_273s5ps7ij().s[44]++;app.post('/post',async(req,res)=>{cov_273s5ps7ij().f[4]++;const{owner,user,message,timestamp}=(cov_273s5ps7ij().s[45]++,req.body);const post=(cov_273s5ps7ij().s[46]++,new Post({user:user,message:message,timestamp:timestamp}));cov_273s5ps7ij().s[47]++;await Page.findOneAndUpdate({owner:owner},{$push:{posts:post}});cov_273s5ps7ij().s[48]++;post.save();cov_273s5ps7ij().s[49]++;console.log("Saved post");cov_273s5ps7ij().s[50]++;res.status(200).send();});//send request
cov_273s5ps7ij().s[51]++;app.post("/:username/request",async(req,res)=>{cov_273s5ps7ij().f[5]++;const{owner,suitor}=(cov_273s5ps7ij().s[52]++,req.body);cov_273s5ps7ij().s[53]++;await User.findOneAndUpdate({username:owner},{$push:{requests:suitor}});cov_273s5ps7ij().s[54]++;console.log("Saved request");cov_273s5ps7ij().s[55]++;res.status(200).send();});//accept request
cov_273s5ps7ij().s[56]++;app.patch("/accept",async(req,res)=>{cov_273s5ps7ij().f[6]++;const{owner,suitor}=(cov_273s5ps7ij().s[57]++,req.body);cov_273s5ps7ij().s[58]++;await User.findOneAndUpdate({username:owner},{$push:{friends:suitor}});cov_273s5ps7ij().s[59]++;await User.findOneAndUpdate({username:owner},{$pull:{requests:suitor}});cov_273s5ps7ij().s[60]++;await User.findOneAndUpdate({username:suitor},{$push:{friends:owner}});cov_273s5ps7ij().s[61]++;await User.findOneAndUpdate({username:suitor},{$pull:{requests:owner}});cov_273s5ps7ij().s[62]++;console.log("Updated");cov_273s5ps7ij().s[63]++;res.status(200).send();});cov_273s5ps7ij().s[64]++;app.listen(port,()=>{cov_273s5ps7ij().f[7]++;cov_273s5ps7ij().s[65]++;return console.log(`Listening on port ${port}`);});cov_273s5ps7ij().s[66]++;module.exports=app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjczczVwczdpaiIsImFjdHVhbENvdmVyYWdlIiwiYmNyeXB0IiwicyIsInJlcXVpcmUiLCJleHByZXNzIiwibW9uZ29vc2UiLCJjb3JzIiwiVXNlciIsIlBhZ2UiLCJQb3N0IiwiYXBwIiwicG9ydCIsInVzZSIsImpzb24iLCJjb25uZWN0IiwiZ2V0IiwicmVxIiwicmVzIiwiZiIsInVzZXJuYW1lIiwicGFyYW1zIiwicXVlcnkiLCJmaW5kIiwicmVzdWx0cyIsInJlc3VsdCIsImxlbmd0aCIsImIiLCJzdGF0dXMiLCJzZW5kIiwiSlNPTiIsInN0cmluZ2lmeSIsIm93bmVyIiwicG9zdHMiLCJwb3N0IiwicGFzc3dvcmQiLCJib2R5IiwiY29uZmxpY3RSZXN1bHQiLCJmZXRjaCIsImhlYWRlcnMiLCJtZXRob2QiLCJyZXNwb25zZSIsInVzZXIiLCJmcmllbmRzIiwicmVxdWVzdHMiLCJwYWdlIiwic2F2ZSIsImNvbnNvbGUiLCJsb2ciLCJlcnIiLCJtZXNzYWdlIiwidGltZXN0YW1wIiwiZmluZE9uZUFuZFVwZGF0ZSIsIiRwdXNoIiwic3VpdG9yIiwicGF0Y2giLCIkcHVsbCIsImxpc3RlbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0anMnKVxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKSBcbmNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKVxuY29uc3QgY29ycyA9IHJlcXVpcmUoJ2NvcnMnKVxuY29uc3QgVXNlciA9IHJlcXVpcmUoJy4vbW9kZWxzL1VzZXInKVxuY29uc3QgUGFnZSA9IHJlcXVpcmUoJy4vbW9kZWxzL1BhZ2UnKVxuY29uc3QgUG9zdCA9IHJlcXVpcmUoJy4vbW9kZWxzL1Bvc3QnKVxuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7IFxuY29uc3QgcG9ydCA9IDMwMDA7XG5cbmFwcC51c2UoY29ycygpKVxuYXBwLnVzZShleHByZXNzLmpzb24oKSlcblxubW9uZ29vc2UuY29ubmVjdCgnbW9uZ29kYjovLzEyNy4wLjAuMToyNzAxNy9mYWNlcicpXG5cbi8vR2V0IHVzZXJcbmFwcC5nZXQoJy91c2VyLzp1c2VybmFtZScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IHVzZXJuYW1lIH0gPSByZXEucGFyYW1zXG4gIGNvbnN0IHF1ZXJ5ID0gVXNlci5maW5kKHsgdXNlcm5hbWU6IHVzZXJuYW1lfSlcbiAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHF1ZXJ5XG4gIGxldCByZXN1bHQgPSBbXTtcbiAgaWYgKHJlc3VsdHMubGVuZ3RoICE9PSAwKSB7IHJlc3VsdCA9IHJlc3VsdHNbMF0gfVxuICBcbiAgLy9ERUJVR1xuICByZXMuc3RhdHVzKDIwMCkuc2VuZChKU09OLnN0cmluZ2lmeShyZXN1bHQpKVxufSlcblxuLy9HZXQgcGFnZVxuYXBwLmdldCgnL3BhZ2UvOm93bmVyJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgb3duZXIgfSA9IHJlcS5wYXJhbXNcbiAgY29uc3QgcXVlcnkgPSBQYWdlLmZpbmQoeyBvd25lcjogb3duZXJ9KVxuICBjb25zdCByZXN1bHRzID0gYXdhaXQgcXVlcnlcbiAgcmVzdWx0cy5sZW5ndGggIT09IDAgPyByZXMuc3RhdHVzKDIwMCkuc2VuZChKU09OLnN0cmluZ2lmeShyZXN1bHRzWzBdLnBvc3RzKSkgOiByZXMuc3RhdHVzKDIwNCkuc2VuZCgpXG59KVxuXG5hcHAuZ2V0KCcvdXNlcnMnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgcXVlcnkgPSBVc2VyLmZpbmQoKVxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeVxuXG4gIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJlc3VsdClcbn0pXG5cbi8vU2lnbiB1cFxuYXBwLnBvc3QoJy91c2VyJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0gPSByZXEuYm9keVxuXG4gIGxldCBjb25mbGljdFJlc3VsdCA9IGF3YWl0IGZldGNoKGBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH0vdXNlci8ke3VzZXJuYW1lfWAsIHtcbiAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICB9LFxuICAgIG1ldGhvZDogXCJHRVRcIlxufSlcbiAgY29uZmxpY3RSZXN1bHQgPSBhd2FpdCBjb25mbGljdFJlc3VsdC5qc29uKCkgXG4gIGlmIChjb25mbGljdFJlc3VsdC5sZW5ndGggIT09IDApIHtcbiAgICByZXMuc3RhdHVzKDQwOSkuc2VuZCgge3Jlc3BvbnNlOiBcIlVzZXIgYWxyZWFkeSBleGlzdHNcIn0gKTtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICBmcmllbmRzOiBbXSxcbiAgICByZXF1ZXN0czogW11cbiAgfSlcblxuICBjb25zdCBwYWdlID0gbmV3IFBhZ2Uoe1xuICAgIG93bmVyOiB1c2VybmFtZSxcbiAgICBwb3N0OiBbXVxuICB9KVxuXG4gIHRyeSB7XG4gICAgICBhd2FpdCBwYWdlLnNhdmUoKVxuICAgICAgYXdhaXQgdXNlci5zYXZlKClcbiAgICAgIGNvbnNvbGUubG9nKFwiQ3JlYXRlZCB1c2VyXCIpXG4gICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCgge3Jlc3BvbnNlOiBcIlVzZXIgY3JlYXRlZFwifSApO1xuICB9ICAgY2F0Y2ggKGVycikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoIHtyZXNwb25zZTogZXJyfSApXG4gIH1cbn0pXG5cbi8vUHVibGlzaCBwb3N0XG5hcHAucG9zdCgnL3Bvc3QnLCBhc3luYyAocmVxLCByZXMpID0+IHtcblxuICBjb25zdCB7IG93bmVyLCB1c2VyLCBtZXNzYWdlLCB0aW1lc3RhbXAgfSA9IHJlcS5ib2R5XG5cbiAgY29uc3QgcG9zdCA9IG5ldyBQb3N0KHtcbiAgICB1c2VyOiB1c2VyLFxuICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgdGltZXN0YW1wOiB0aW1lc3RhbXBcbiAgfSlcblxuICBhd2FpdCBQYWdlLmZpbmRPbmVBbmRVcGRhdGUoXG4gICAgeyBvd25lcjogb3duZXIgfSxcbiAgICB7ICRwdXNoOiB7IHBvc3RzOiBwb3N0IH0gfVxuICApXG4gIFxuICBwb3N0LnNhdmUoKVxuXG4gIGNvbnNvbGUubG9nKFwiU2F2ZWQgcG9zdFwiKVxuICByZXMuc3RhdHVzKDIwMCkuc2VuZCgpXG59KVxuXG4vL3NlbmQgcmVxdWVzdFxuYXBwLnBvc3QoXCIvOnVzZXJuYW1lL3JlcXVlc3RcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG5cbiAgY29uc3QgeyBvd25lciwgc3VpdG9yICB9ID0gcmVxLmJvZHlcblxuICBhd2FpdCBVc2VyLmZpbmRPbmVBbmRVcGRhdGUoXG4gICAgeyB1c2VybmFtZTogb3duZXIgfSxcbiAgICB7ICRwdXNoOiB7IHJlcXVlc3RzOiBzdWl0b3IgfSB9XG4gIClcblxuICBjb25zb2xlLmxvZyhcIlNhdmVkIHJlcXVlc3RcIilcbiAgcmVzLnN0YXR1cygyMDApLnNlbmQoKVxufSlcblxuLy9hY2NlcHQgcmVxdWVzdFxuYXBwLnBhdGNoKFwiL2FjY2VwdFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBvd25lciwgc3VpdG9yIH0gPSByZXEuYm9keVxuXG4gIGF3YWl0IFVzZXIuZmluZE9uZUFuZFVwZGF0ZShcbiAgICB7IHVzZXJuYW1lOiBvd25lciB9LFxuICAgIHsgJHB1c2g6IHsgZnJpZW5kczogc3VpdG9yfX1cbiAgKVxuXG4gIGF3YWl0IFVzZXIuZmluZE9uZUFuZFVwZGF0ZShcbiAgICB7IHVzZXJuYW1lOiBvd25lciB9LFxuICAgIHsgJHB1bGw6IHsgcmVxdWVzdHM6IHN1aXRvcn19XG4gIClcblxuICBhd2FpdCBVc2VyLmZpbmRPbmVBbmRVcGRhdGUoXG4gICAgeyB1c2VybmFtZTogc3VpdG9yIH0sXG4gICAgeyAkcHVzaDogeyBmcmllbmRzOiBvd25lcn0gfVxuICApXG4gIGF3YWl0IFVzZXIuZmluZE9uZUFuZFVwZGF0ZShcbiAgICB7IHVzZXJuYW1lOiBzdWl0b3IgfSxcbiAgICB7ICRwdWxsOiB7IHJlcXVlc3RzOiBvd25lcn19XG4gIClcblxuICBjb25zb2xlLmxvZyhcIlVwZGF0ZWRcIilcbiAgcmVzLnN0YXR1cygyMDApLnNlbmQoKVxuXG59KVxuXG5hcHAubGlzdGVuKHBvcnQsICgpID0+IGNvbnNvbGUubG9nKGBMaXN0ZW5pbmcgb24gcG9ydCAke3BvcnR9YCkpOyBcblxubW9kdWxlLmV4cG9ydHMgPSBhcHAiXSwibWFwcGluZ3MiOiIwaU5BZVk7QUFBQUEsY0FBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxjQUFBLEdBZlosS0FBTSxDQUFBRSxNQUFNLEVBQUFGLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDLEVBQ2xDLEtBQU0sQ0FBQUMsT0FBTyxFQUFBTCxjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUNsQyxLQUFNLENBQUFFLFFBQVEsRUFBQU4sY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFDcEMsS0FBTSxDQUFBRyxJQUFJLEVBQUFQLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQzVCLEtBQU0sQ0FBQUksSUFBSSxFQUFBUixjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLGVBQWUsQ0FBQyxFQUNyQyxLQUFNLENBQUFLLElBQUksRUFBQVQsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxlQUFlLENBQUMsRUFDckMsS0FBTSxDQUFBTSxJQUFJLEVBQUFWLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsZUFB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